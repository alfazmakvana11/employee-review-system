<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('_bootstrap_meta')%>
    <style>
        body {
          font-family: Arial, sans-serif;
          background-color: #f0f0f0;
          margin: 0;
          padding: 0;
        }
    
        .container {
          margin: 5% auto;
          width: 75%;
          background-color: #fff;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
          padding: 20px;
        }
    
        h1 {
          font-size: 24px;
        }
    
        .table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 20px;
        }
    
        .table th,
        .table td {
          border: 1px solid #ccc;
          padding: 8px;
          text-align: center;
        }
    
        .table thead {
          background-color: #343a40;
          color: #fff;
        }
    
        .btn {
          padding: 5px 10px;
          margin: 5px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
        }
    
        .btn-primary {
          background-color: #007bff;
          color: #fff;
        }
    
        .btn-primary:hover {
          background-color: #0056b3;
        }
    
        .btn-danger {
          background-color: #dc3545;
          color: #fff;
        }
    
        .btn-danger:hover {
          background-color: #c82333;
        }
      </style>
    <title>Admin View</title>
  </head>

  <body>
    <%- include('_header') %>

    <div class="w-75 mx-auto mt-5">
      <div class="row">
        <div class="col-6">
          <h1>Employees List</h1>
        </div>
        <div class="col-6 d-flex justify-content-end">
          <a href="/admin/add-employee" type="button" class="align-self-center"
            >Add a new Employee</a
          >
        </div>
      </div>

      <%if(users.length > 0){%>
      <div class="mt-3 mb-3">
        <table class="table table-bordered">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Index</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Admin</th>
              <th scope="col">Make Changes</th>
            </tr>
          </thead>
          <%i=1%> <% for(let user of users){%>
          <tbody>
            <tr>
              <th scope="row"><%=i++%></th>
              <td><%=user.name%></td>
              <td><%=user.email%></td>
              <%if (user.isAdmin){%>
              <td>Yes</td>
              <%} else {%>
              <td>No</td>
              <%}%>
              <td>
                <a
                  href="/admin/update/<%=user.id%>"
                  type="button"
                  class="btn btn-primary"
                  >Edit</a
                >
                <a
                  href="/admin/delete/<%=user.id%>"
                  type="button"
                  class="btn btn-danger"
                  >Delete</a
                >
              </td>
            </tr>
          </tbody>
          <%}%>
        </table>
      </div>
      <%}else{%>
      <div class="w-75 mx-auto mt-5">
        <h2>Nothin to show</h2>
      </div>
      <%}%>
    </div>
    <%-include('_bootstrap_script')%>
  </body>
</html>